#### Database

### 1. 트랜잭션(Transaction)
- 정의 : 데이터베이스의 상태를 변환시키기 위해 실행되는 하나의 논리적인 작업 단위
- ACID 특성
   1) `원자성(Atomicity)`: 트랜잭션 내의 모든 작업이 완료되거나, 아무런 작업도 수행되지 않아야 함 (All or Nothing).
   2) `일관성(Consistency)`: 트랜잭션이 실행되기 전과 후에 데이터베이스는 일관된 상태를 유지해야 함.
   3) `독립성(Isolation)`: 동시에 여러 트랜잭션이 실행될 때, 각 트랜잭션은 서로의 작업을 독립적으로 실행하는 것처럼 보아야 함.
   4) `영속성(Durability)`: 트랜잭션이 성공적으로 완료된 후, 그 결과는 영구적으로 데이터베이스에 저장되어야 함.
- 상태
   1) `활동(Active)`: 트랜잭션이 현재 실행 중인 상태.
   2) `실패(Failed)`: 트랜잭션이 오류로 인해 중단된 상태.
   3) `부분 완료(Partially Committed)`: 트랜잭션이 마지막 명령까지 실행했지만, 아직 커밋되지 않은 상태.
   4) `완료(Committed)`: 트랜잭션이 성공적으로 종료된 상태.
   5) `철회(Aborted)`: 트랜잭션이 오류를 만나거나 롤백된 상태.
- 작업
   1) `커밋(Commit)`: 트랜잭션의 모든 변경 사항을 데이터베이스에 반영하는 작업.
   2) `롤백(Rollback)`: 트랜잭션의 모든 변경 사항을 취소하는 작업.

### 2. 트랜잭션 데드락(DeadLock)
- 정의 : 두 개 이상의 트랜잭션이 특정 자원(데이터베이스의 행 또는 테이블)의 잠금을 획득하려고 할 때, 각 트랜잭션은 다른 트랜잭션에 의해 점유된 자원의 해제를 기다리면서 서로가 진행을 마칠 수 없는 상태.

- 발생 조건
   1) `상호 배제(Mutual Exclusion)`: 한 자원은 한 번에 하나의 트랜잭션만이 사용할 수 있다.
   2) `점유와 대기(Hold and Wait)`: 한 트랜잭션은 최소한 하나의 자원을 점유하면서 다른 트랜잭션에 의해 점유된 자원을 추가로 얻기 위해 대기한다.
   3) `비선점(No Preemption)`: 다른 트랜잭션에 의해 이미 점유된 자원은 그 트랜잭션이 자원을 해제할 때까지 그 자원을 강제로 빼앗을 수 없다.
   4) `순환 대기(Circular Wait)`: 대기하는 트랜잭션 세트에서 트랜잭션들이 순환적으로 다음 트랜잭션에 의해 점유된 자원을 대기하는 상태.

- 예방법
   1) `트랜잭션의 잠금 획득 순서`를 일관되게 관리하여 순환 대기를 방지한다.
   2) `타임아웃`을 설정하여 일정 시간 내에 자원을 획득하지 못하면 트랜잭션을 롤백한다.
   3) `잠금의 범위나 지속 시간을 최소화`하여 동시성을 높인다.
   40 데이터베이스 시스템의 내장된 `데드락 감지 메커니즘`을 활용하여 자동으로 데드락 상황을 해결한다.